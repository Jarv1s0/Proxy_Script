banner: |
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ  â–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ
      â–ˆ   â–ˆ   â–ˆ â–ˆ    â–ˆ â–ˆ   â–ˆ   â–ˆ  â–ˆ    
      â–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆ   â–ˆ   â–ˆ   â–ˆâ–ˆâ–ˆ 
    â–ˆ â–ˆ   â–ˆ   â–ˆ â–ˆ  â–ˆ   â–ˆ â–ˆ    â–ˆ      â–ˆ
     â–ˆâ–ˆ   â–ˆ   â–ˆ â–ˆ   â–ˆ   â–ˆ    â–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ
# ç‰ˆæœ¬: v2.0-Full-Rules-US-Only
# çŠ¶æ€: å®Œæ•´è§„åˆ™é“¾æ¡å·²æ¢å¤ï¼Œå‡ºå£ç»Ÿä¸€æŒ‡å‘ [Proxy] ç»„
# æ›´æ–°: 2026 å¹´ 1 æœˆ 30 æ—¥

# ==================== æ ¸å¿ƒé…ç½® ====================
mode: rule
port: 7890
socks-port: 7891
mixed-port: 7893
tproxy-port: 7895
ipv6: false
allow-lan: true
unified-delay: true
tcp-concurrent: true
log-level: warning
find-process-mode: 'always'
global-client-fingerprint: chrome

# TUNæ¨¡å¼
tun:
  enable: true
  stack: mixed
  dns-hijack: ["any:53", "tcp://any:53"]
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
    
# DNSé…ç½®
dns:
  enable: true
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  default-nameserver: [119.29.29.29, 223.5.5.5]
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  fake-ip-filter:
    - rule-set:Direct
    - rule-set:Private
    - rule-set:China
    - rule-set:fakeip-filter

# ==================== ä»£ç†ç­–ç•¥ç»„ ====================
proxy-groups:
  # ç»Ÿä¸€å‡ºå£ç»„ï¼šä»…ç­›é€‰ç¾å›½èŠ‚ç‚¹
  - name: Proxy
    type: url-test
    url: 'https://www.google.com/generate_204'
    interval: 300
    include-all: true
    filter: '(?i)ç¾|ğŸ‡ºğŸ‡¸|\bUS\b|USA|SJC|JFK|LAX|ORD|SFO'
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/United_States.png

# ==================== è§„åˆ™é›†å®šä¹‰ (å…¨é‡ä¿ç•™) ====================
BehaviorDN: &BehaviorDN {type: http, behavior: domain, format: mrs, interval: 86400, proxy: Proxy}
BehaviorIP: &BehaviorIP {type: http, behavior: ipcidr, format: mrs, interval: 86400, proxy: Proxy}

rule-providers:  
  Tracking:      {<<: *BehaviorDN, url: https://github.com/666OS/rules/raw/release/mihomo/domain/Tracking.mrs}
  Advertising:   {<<: *BehaviorDN, url: https://github.com/666OS/rules/raw/release/mihomo/domain/Advertising.mrs} 
  Direct:        {<<: *BehaviorDN, url: https://github.com/666OS/rules/raw/release/mihomo/domain/Direct.mrs}
  Private:       {<<: *BehaviorDN, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/private.mrs}
  Download:      {<<: *BehaviorDN, url: https://github.com/666OS/rules/raw/release/mihomo/domain/Download.mrs}
  fakeip-filter: {<<: *BehaviorDN, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/fakeip-filter.mrs}
  AI:            {<<: *BehaviorDN, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/ai.mrs} 
  GitHub:        {<<: *BehaviorDN, url: https://github.com/666OS/rules/raw/release/mihomo/domain/GitHub.mrs}    
  Telegram:      {<<: *BehaviorDN, url: https://github.com/666OS/rules/raw/release/mihomo/domain/Telegram.mrs}
  GamesCN:       {<<: *BehaviorDN, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/games-cn.mrs} 
  Games:         {<<: *BehaviorDN, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/games.mrs}
  YouTube:       {<<: *BehaviorDN, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/youtube.mrs}
  AppleCN:       {<<: *BehaviorDN, url: https://github.com/666OS/rules/raw/release/mihomo/domain/AppleCN.mrs}
  Google:        {<<: *BehaviorDN, url: https://github.com/666OS/rules/raw/release/mihomo/domain/Google.mrs}
  MicrosoftCN:   {<<: *BehaviorDN, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/microsoft-cn.mrs}  
  ProxySet:      {<<: *BehaviorDN, url: https://github.com/666OS/rules/raw/release/mihomo/domain/Proxy.mrs}
  China:         {<<: *BehaviorDN, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/cn.mrs}
  # IP è§„åˆ™
  AdvertisingIP: {<<: *BehaviorIP, url: https://github.com/666OS/rules/raw/release/mihomo/ip/Advertising.mrs}
  PrivateIP:     {<<: *BehaviorIP, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/privateip.mrs}
  AIIP:          {<<: *BehaviorIP, url: https://github.com/666OS/rules/raw/release/mihomo/ip/AI.mrs}
  TelegramIP:    {<<: *BehaviorIP, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/telegramip.mrs}   
  GoogleIP:      {<<: *BehaviorIP, url: https://github.com/666OS/rules/raw/release/mihomo/ip/Google.mrs}  
  ProxyIP:       {<<: *BehaviorIP, url: https://github.com/666OS/rules/raw/release/mihomo/ip/Proxy.mrs} 
  ChinaIP:       {<<: *BehaviorIP, url: https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/cnip.mrs}

# ==================== è§„åˆ™è·¯ç”± (å…¨é‡æŒ‡å‘ Proxy) ====================
rules:
  # 1. ä¼˜å…ˆè‡ªå®šä¹‰è§„åˆ™
  - DOMAIN-KEYWORD,1ytsub,DIRECT
  - DOMAIN-KEYWORD,jarv1s,Proxy
  - PROCESS-NAME,dota2.exe,DIRECT
  - PROCESS-NAME,language_server_windows_x64.exe,Proxy
  - PROCESS-NAME,Antigravity.exe,Proxy 

  # 2. æ‹¦æˆª
  - RULE-SET,Tracking,REJECT
  - RULE-SET,Advertising,REJECT
  - AND,((DST-PORT,443),(NETWORK,UDP),(NOT,((GEOIP,CN)))),REJECT 

  # 3. åŸŸååˆ†æµ (å…¨éƒ¨æŒ‡å‘ Proxy æˆ– DIRECT)
  - RULE-SET,Private,DIRECT
  - RULE-SET,Direct,DIRECT
  - RULE-SET,GamesCN,DIRECT
  - RULE-SET,Download,DIRECT
  - RULE-SET,AppleCN,DIRECT
  - RULE-SET,MicrosoftCN,DIRECT
  
  - RULE-SET,AI,Proxy
  - RULE-SET,GitHub,Proxy
  - RULE-SET,Telegram,Proxy
  - RULE-SET,Games,Proxy
  - RULE-SET,YouTube,Proxy
  - RULE-SET,Google,Proxy
  - RULE-SET,ProxySet,Proxy
  - RULE-SET,China,DIRECT

  # 4. IP è§„åˆ™åˆ†æµ (å…¨éƒ¨æŒ‡å‘ Proxy æˆ– DIRECT)
  - RULE-SET,AdvertisingIP,REJECT,no-resolve
  - RULE-SET,PrivateIP,DIRECT,no-resolve
  - RULE-SET,AIIP,Proxy,no-resolve
  - RULE-SET,TelegramIP,Proxy,no-resolve
  - RULE-SET,GoogleIP,Proxy,no-resolve
  - RULE-SET,ProxyIP,Proxy,no-resolve
  - RULE-SET,ChinaIP,DIRECT,no-resolve

  # 5. å…œåº•
  - MATCH,Proxy